"use strict";(self.webpackChunkfeed=self.webpackChunkfeed||[]).push([[53],{9143:(e,n,t)=>{t.d(n,{Y:()=>j});var s=t(4848),r=t(3450),i=t(2218),c=t(3198),o=t(407),l=t(3615),a=t(1702),d=t(9879),x=t(4976),h=t(6098);const u=t.p+"60a16fe6af1be1fac680.png",j=()=>(0,s.jsx)(r.m,{children:(0,s.jsxs)(i.s,{justifyContent:"space-between",alignContent:"center",margin:4,children:[(0,s.jsx)(x.N_,{to:"/",children:(0,s.jsx)(c._,{src:u,boxSize:"60px",borderRadius:"full",fit:"cover",alt:"Feed dev"})}),(0,s.jsxs)(o.z,{children:[(0,s.jsx)(h.K,{userId:1}),(0,s.jsxs)(l.il,{children:[(0,s.jsx)(l.cQ,{asChild:!0,children:(0,s.jsx)(a.K,{variant:"outline",children:(0,s.jsx)(d.DSS,{})})}),(0,s.jsxs)(l.rm,{position:"absolute",top:"50px",right:"10px",children:[(0,s.jsx)(l.Dr,{value:"home",children:(0,s.jsx)(x.N_,{to:"/",children:"Home"})}),(0,s.jsx)(l.Dr,{value:"my-posts",children:(0,s.jsx)(x.N_,{to:"/my-posts",children:"Meus posts"})}),(0,s.jsx)(l.Dr,{value:"profile",children:(0,s.jsx)(x.N_,{to:"/profile",children:"Perfil"})})]})]})]})]})})},3537:(e,n,t)=>{t.d(n,{L:()=>b});var s=t(4848),r=t(6540),i=t(8100),c=t(407),o=t(6404),l=t(5968),a=t(2150),d=t(1702),x=t(7908),h=t(1351),u=t(6098),j=t(1995),f=t(7967),m=t(1940),p=t(37),v=t(9879);const g=({comments:e,handleRemoveComment:n})=>(0,s.jsx)(f.B,{mt:4,children:e.map((e=>(0,s.jsxs)(i.$U,{"data-testid":`comment-${e.id}`,children:[(0,s.jsx)(c.z,{justifyContent:"end",children:(0,s.jsx)(d.K,{variant:"outline",size:"xs",onClick:()=>n(e.id),margin:2,children:(0,s.jsx)(v.b6i,{color:"red"})})}),(0,s.jsxs)(i.bw,{children:[(0,s.jsx)(u.K,{userId:2}),(0,s.jsx)(i.BT,{asChild:!0,children:(0,s.jsxs)(m.Nw,{defaultValue:e.body,children:[(0,s.jsx)(m.lH,{}),(0,s.jsx)(m.HU,{}),(0,s.jsxs)(m.cQ,{children:[(0,s.jsx)(m.ht,{asChild:!0,children:(0,s.jsx)(d.K,{variant:"ghost",size:"xs",children:(0,s.jsx)(p.VSs,{})})}),(0,s.jsx)(m.FE,{asChild:!0,children:(0,s.jsx)(d.K,{variant:"outline",size:"xs",children:(0,s.jsx)(p.SXS,{})})}),(0,s.jsx)(m.Xk,{asChild:!0,children:(0,s.jsx)(d.K,{variant:"outline",size:"xs",children:(0,s.jsx)(p.sk9,{})})})]})]})})]})]},e.id)))});var y=t(1478);const b=({post:e})=>{const{title:n,body:t,userId:f,id:m}=e,[p,v]=(0,r.useState)([]),[b,w]=(0,r.useState)([]),[S,C]=(0,r.useState)("");(0,r.useEffect)((()=>{z()}),[]);const z=()=>{return e=void 0,n=void 0,s=function*(){const{data:e}=yield j.A.get(`/posts/${m}/comments`);v(e)},new((t=void 0)||(t=Promise))((function(r,i){function c(e){try{l(s.next(e))}catch(e){i(e)}}function o(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(c,o)}l((s=s.apply(e,n||[])).next())}));var e,n,t,s};return(0,s.jsx)(i.$U,{maxW:"3xl",margin:"3",children:(0,s.jsxs)(i.bw,{children:[(0,s.jsx)(u.K,{userId:f}),(0,s.jsx)(i.ZB,{children:n}),(0,s.jsx)(i.BT,{fontSize:"16px",children:t}),(0,s.jsx)(i.wL,{children:(0,s.jsx)(c.z,{mt:4,children:(0,s.jsxs)(o.$,{variant:"ghost",onClick:()=>{w(p)},children:[(0,s.jsx)(x.f9A,{size:24}),p.length>0&&(0,s.jsx)(l.E,{children:p.length})]})})}),(0,s.jsx)(c.z,{mb:2,children:(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault();const n={postId:m,id:(0,y.A)(),name:"",email:"",body:S};C(""),v([n,...p]),w([n,...b])},style:{display:"flex",width:"100%"},children:[(0,s.jsx)(a.p,{placeholder:"Novo comentário",value:S,onChange:e=>C(e.target.value)}),(0,s.jsx)(d.K,{type:"submit",variant:"outline",ml:2,"data-testid":"btn-add-new-comment",children:(0,s.jsx)(h.$_z,{})})]})}),b.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.E,{children:"Todos comentários"}),(0,s.jsx)(g,{comments:b,handleRemoveComment:e=>(e=>{const n=p.filter((n=>n.id!==e));v(n),w(n)})(e)})]})]})})}},6098:(e,n,t)=>{t.d(n,{K:()=>m});var s=t(4848),r=t(6540),i=t(407),c=t(7967),o=t(5968),l=t(1175),a=t(4247),d=function(e,n){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&n.indexOf(s)<0&&(t[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)n.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(t[s[r]]=e[s[r]])}return t};const x=(0,r.forwardRef)((function(e,n){const{name:t,src:r,srcSet:i,loading:c,icon:o,fallback:a,children:x}=e,u=d(e,["name","src","srcSet","loading","icon","fallback","children"]);return(0,s.jsxs)(l.Cy,Object.assign({ref:n},u,{children:[(0,s.jsx)(h,{name:t,icon:o,children:a}),(0,s.jsx)(l.BK,{src:r,srcSet:i,loading:c}),x]}))})),h=(0,r.forwardRef)((function(e,n){const{name:t,icon:r,children:i}=e,c=d(e,["name","icon","children"]);return(0,s.jsxs)(l.q5,Object.assign({ref:n},c,{children:[i,null!=t&&null==i&&(0,s.jsx)(s.Fragment,{children:u(t)}),null==t&&null==i&&(0,s.jsx)(l.hS,{asChild:!!r,children:r})]}))}));function u(e){const n=e.trim().split(" "),t=null!=n[0]?n[0]:"",s=n.length>1?n[n.length-1]:"";return t&&s?`${t.charAt(0)}${s.charAt(0)}`:t.charAt(0)}(0,r.forwardRef)((function(e,n){const{size:t,variant:r,borderless:i}=e,c=d(e,["size","variant","borderless"]);return(0,s.jsx)(l.ZZ,{value:{size:t,variant:r,borderless:i},children:(0,s.jsx)(a.Y,Object.assign({gap:"0",spaceX:"-3",ref:n},c))})}));var j=t(1995),f=t(4976);const m=({userId:e})=>{var n;const[t,l]=(0,r.useState)({name:"",username:"",id:0});(0,r.useEffect)((()=>{a()}),[]);const a=()=>{return n=void 0,t=void 0,r=function*(){const{data:n}=yield j.A.get(`/users/${e}`);l(n)},new((s=void 0)||(s=Promise))((function(e,i){function c(e){try{l(r.next(e))}catch(e){i(e)}}function o(e){try{l(r.throw(e))}catch(e){i(e)}}function l(n){var t;n.done?e(n.value):(t=n.value,t instanceof s?t:new s((function(e){e(t)}))).then(c,o)}l((r=r.apply(n,t||[])).next())}));var n,t,s,r};return(0,s.jsxs)(i.z,{children:[(0,s.jsx)(x,{src:"https://images.unsplash.com/photo-1511806754518-53bada35f930",name:"Nate Foss"}),(0,s.jsxs)(c.B,{gap:"0",children:[(0,s.jsx)(o.E,{fontWeight:"semibold",textStyle:"sm",children:(0,s.jsx)(f.N_,{to:`/user/${t.id}`,children:t.name})}),(0,s.jsxs)(o.E,{color:"fg.muted",textStyle:"sm",children:["@",null===(n=null==t?void 0:t.username)||void 0===n?void 0:n.toLowerCase()]})]})]})}},7542:(e,n,t)=>{t.r(n),t.d(n,{default:()=>h});var s=t(4848),r=t(6540),i=t(3450),c=t(7967),o=t(5968),l=t(7767),a=t(9143),d=t(1995),x=t(3537);const h=()=>{const{id:e}=(0,l.g)(),[n,t]=(0,r.useState)([]);(0,r.useEffect)((()=>{h()}),[e]);const h=()=>{return n=void 0,s=void 0,i=function*(){try{const{data:n}=yield d.A.get(`/posts?userId=${e}`);t(n)}catch(e){console.log(e)}},new((r=void 0)||(r=Promise))((function(e,t){function c(e){try{l(i.next(e))}catch(e){t(e)}}function o(e){try{l(i.throw(e))}catch(e){t(e)}}function l(n){var t;n.done?e(n.value):(t=n.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,o)}l((i=i.apply(n,s||[])).next())}));var n,s,r,i};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.Y,{}),(0,s.jsx)(i.m,{children:(0,s.jsxs)(c.B,{maxW:"4xl",margin:"4rem auto",children:[(0,s.jsx)(o.E,{textStyle:"xl",mb:"4",children:"Posts"}),n.map((e=>(0,s.jsx)(x.L,{post:e},e.id)))]})})]})}},1995:(e,n,t)=>{t.d(n,{A:()=>s});const s=t(1083).A.create({baseURL:"https://jsonplaceholder.typicode.com"})},1478:(e,n,t)=>{function s(){const e="xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){const n=16*Math.random()|0;return("x"===e?n:3&n|8).toString(16)}));return Number(`0x${e}`)}t.d(n,{A:()=>s})}}]);